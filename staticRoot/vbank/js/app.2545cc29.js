(function(){"use strict";var t={4905:function(t,e,i){var n=i(144),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-main",[i("HomeComponent")],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("v-row",[i("v-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{sm:"12"}},[i("v-btn",{attrs:{plain:""},on:{click:t.backButton}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-chevron-left ")]),t._v(" Back ")],1),t.isUpdating?i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",{staticStyle:{"padding-right":"0.5rem","padding-bottom":"0.1rem"}},[i("v-progress-circular",{attrs:{indeterminate:"",size:20,width:2}})],1),t._v(" Saving Changes ")]):i("div",{staticStyle:{"padding-top":"0.4rem"}},[t._v("All changes saved")])],1)],1),i("v-row",[i("v-col",{attrs:{sm:"12"}},[i("v-text-field",{staticStyle:{"margin-top":"0","padding-top":"0","padding-bottom":"1rem"},attrs:{label:"Question Name"},model:{value:t.questionName,callback:function(e){t.questionName=e},expression:"questionName"}})],1)],1),i("v-card",[i("v-row",[i("v-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{sm:"12",md:"8"}},[i("v-text-field",{attrs:{label:"Question"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),i("v-file-input",{ref:"file",staticStyle:{"margin-bottom":"1rem","margin-left":"1.4rem",flex:"none","padding-top":"none","margin-top":"none"},attrs:{"hide-input":"","prepend-icon":"mdi-image",accept:"image/*","hide-details":""},on:{change:t.uploadFile}})],1),i("v-col",{attrs:{sm:"12",md:"4"}},[i("v-select",{attrs:{items:t.qtypes,label:"Question Type",outlined:"","item-text":"label","item-value":"code","append-icon":"cb"===t.type?"mdi-checkbox-marked":"mc"===t.type?"mdi-radiobox-marked":"sa"===t.type?"mdi-text-short":"mdi-text-long"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)],1),i("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hover;return[i("div",[t.imageLoading?i("v-skeleton-loader",{staticStyle:{margin:"0 2rem","margin-bottom":"2rem"},attrs:{type:"image","max-width":"100%"}}):""!=t.imageUrl?i("v-row",{staticStyle:{margin:"0 2rem","margin-bottom":"2rem",position:"relative"}},[i("img",{staticStyle:{"object-fit":"contain","max-width":"100%"},attrs:{src:t.imageUrl}}),i("v-fade-transition",[n?i("v-overlay",{staticStyle:{cursor:"pointer"},attrs:{absolute:"",color:"#ff0000",opacity:"0.5"},on:{click:t.deleteImage}},[i("v-icon",[t._v("mdi-delete")])],1):t._e()],1)],1):t._e()],1)]}}])}),"mc"===t.type||"cb"===t.type?i("draggable",t._b({attrs:{handle:".draggingHandle"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.options,callback:function(e){t.options=e},expression:"options"}},"draggable",t.dragOptions,!1),[i("transition-group",{attrs:{type:"transition",name:t.drag?null:"flip-list"}},t._l(t.options,(function(e,n){return i("v-row",{key:e.id,staticClass:"optionRowCol",on:{mouseover:function(i){t.hoveredId=e.id},dragenter:function(e){t.hoveredId=-1},dragleave:function(e){t.hoveredId=-1},mouseleave:function(e){t.hoveredId=-1}}},[i("v-col",{staticClass:"optionRowCol optionRow",attrs:{sm:"12"}},[i("v-icon",{class:{draggingHandle:!0,draggingHandleVertical:!0,hidden:t.hoveredId!==e.id&&!t.$vuetify.breakpoint.mobile}},[t._v("mdi-drag-vertical")]),i("v-text-field",{attrs:{label:"Option "+(n+1).toString(),"prepend-icon":"cb"===t.type?"mdi-checkbox-blank-outline":"mdi-radiobox-blank",value:e.text,"append-outer-icon":"mdi-close-circle-outline"},on:{input:function(i){t.optionChanged(e.id,i)},"click:append-outer":function(i){return t.deleteOption(e.id)}}})],1)],1)})),1)],1):t._e(),"mc"===t.type||"cb"===t.type?i("v-row",[i("v-col",{attrs:{sm:"12"}},[i("v-btn",{attrs:{color:"info",small:"",text:""},on:{click:t.addOption}},[t._v(" Add Option "),i("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-plus")])],1)],1)],1):t._e(),t.validate?i("v-row",["mc"===t.type?i("div",[i("div",{staticClass:"text-h6 answerKeyHeader"},[t._v("Answer Key")]),i("v-col",{staticClass:"validateCol",attrs:{sm:"12"}},[i("v-radio-group",{attrs:{mandatory:"","hide-details":""},model:{value:t.mcAnswer,callback:function(e){t.mcAnswer=e},expression:"mcAnswer"}},t._l(t.options,(function(e){return i("v-radio",{key:e.id,attrs:{value:e.id},scopedSlots:t._u([{key:"label",fn:function(){return[i("div",{staticClass:"black--text",attrs:{id:"questionOption-"+e.id.toString()}},[t._v(" "+t._s(e.text)+" ")])]},proxy:!0}],null,!0)})})),1)],1)],1):t._e(),"cb"===t.type?i("div",[i("div",{staticClass:"text-h6 answerKeyHeader"},[t._v("Answer Key")]),i("v-col",{staticClass:"validateCol",attrs:{sm:"12"}},t._l(t.options,(function(e){return i("v-checkbox",{key:e.id,attrs:{"hide-details":"",value:e.id},scopedSlots:t._u([{key:"label",fn:function(){return[i("div",{staticClass:"black--text",attrs:{id:"questionOption-"+e.id.toString()}},[t._v(" "+t._s(e.text)+" ")])]},proxy:!0}],null,!0),model:{value:t.cbAnswer,callback:function(e){t.cbAnswer=e},expression:"cbAnswer"}})})),1)],1):t._e(),"sa"===t.type?i("div",{staticClass:"text-h6",staticStyle:{"margin-left":"0.65rem"},attrs:{"hide-details":""}},[t._v(" Correct Answer ")]):t._e(),"sa"===t.type?i("v-col",{attrs:{sm:"12"}},[i("v-text-field",{attrs:{label:"Answer"},model:{value:t.saAnswer,callback:function(e){t.saAnswer=e},expression:"saAnswer"}})],1):t._e()],1):t._e(),i("v-divider",{staticClass:"card-divider"}),i("v-card-actions",{staticClass:"v-card-actions"},[i("v-row",{attrs:{align:"center",justify:"space-between"}},["la"!==t.type?i("v-switch",{staticClass:"validateSwitch",attrs:{inset:"","hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[i("div",{staticClass:"black--text"},[t._v("Auto-grade")])]},proxy:!0}],null,!1,789875644),model:{value:t.validate,callback:function(e){t.validate=e},expression:"validate"}}):i("div")],1)],1)],1)],1)},r=[],d=(i(6699),i(9669)),l=i.n(d),c=i(6486),u=i.n(c);function p(t,e=300){const i={};return(n,...a)=>{n in i&&clearTimeout(i[n]),i[n]=setTimeout((()=>{t.apply(this,a)}),e)}}var m=i(9980),v=i.n(m),h={components:{draggable:v()},props:{question:Object,getQuestions:Function},data:()=>({qtypes:[{label:"Checkboxes",code:"cb"},{label:"Multiple Choice",code:"mc"},{label:"Short Answer",code:"sa"},{label:"Long Answer",code:"la"}],type:"cb",text:"",options:[],orderData:"[]",hoveredId:-1,validate:!1,drag:!1,mcAnswer:-1,cbAnswer:[],saAnswer:"",tagId:-1,currentImage:null,imageLoading:!1,imageUrl:"",questionName:"",isUpdating:!1}),methods:{deleteImage(){this.imageLoading=!0,l().post("/quizzes/deleteImage/",{questionId:this.id},{withCredentials:!0,headers:{"X-CSRFToken":document.querySelector("[name=csrfmiddlewaretoken]").value}}).then((t=>{this.imageLoading=!1,t.data.success&&(this.imageUrl="")}))},uploadFile(t){const e=new FormData;e.append("image",t),e.append("questionId",this.id),this.imageLoading=!0,l().post("/quizzes/setImage/",e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data","X-CSRFToken":document.querySelector("[name=csrfmiddlewaretoken]").value}}).then((t=>{this.imageLoading=!1,t.data.success&&(this.imageUrl=t.data.imageUrl)}))},backButton(){window.location.href="/quizzes/bank/"},changeTag(t){this.tagId=t,this.doQnUpdate(this.id,this)},optionChanged(t,e){this.options.find((e=>e.id===t)).text=e;try{document.getElementById("questionOption-"+t.toString()).innerText=e}catch{}this.isUpdating=!0,this.doOptionUpdate(t.toString()+"q",t,e,this)},deleteOption(t){l().post("/quizzes/deleteOption/",{id:t},{withCredentials:!0,headers:{"X-CSRFToken":document.querySelector("[name=csrfmiddlewaretoken]").value}}).then((t=>{t.data.success&&(this.isUpdating=!1,this.getOptions())}))},qnUpdated(){this.isUpdating=!0,this.doQnUpdate(this.id,this)},addOption(){l().post("/quizzes/addOption/",{questionId:this.id},{withCredentials:!0,headers:{"X-CSRFToken":document.querySelector("[name=csrfmiddlewaretoken]").value}}).then((t=>{t.data.success&&this.getOptions()}))},doOptionUpdate:p(((t,e,i)=>{l().post("/quizzes/editOption/",{id:t,text:e},{withCredentials:!0,headers:{"X-CSRFToken":document.querySelector("[name=csrfmiddlewaretoken]").value}}).then((t=>{t.data.success&&(i.isUpdating=!1)}))}),1e3),getOptions(){l().get("/quizzes/getOptions/",{params:{questionId:this.id}}).then((t=>{this.options=t.data.options;const e=JSON.parse(this.optionOrder),i=[],n=this.options.filter((t=>!e.includes(t.id)));for(const a of e){const t=this.options.find((t=>t.id===a));void 0!==t&&i.push(t)}this.options=i.concat(n)}))},doQnUpdate:p((t=>{l().post("/quizzes/editQuestion/",{id:t.id,text:t.text,type:t.type,optionOrder:t.orderData,validate:t.validate,mcAnswer:t.mcAnswer,cbAnswer:JSON.stringify(t.cbAnswer),saAnswer:t.saAnswer,tagId:t.tagId,questionName:t.questionName},{withCredentials:!0,headers:{"X-CSRFToken":document.querySelector("[name=csrfmiddlewaretoken]").value}}).then((e=>{e.data.success&&(t.isUpdating=!1)}))}),500)},watch:{text(){this.qnUpdated()},type(){this.qnUpdated()},validate(){this.qnUpdated()},mcAnswer(){this.qnUpdated()},cbAnswer(){this.qnUpdated()},saAnswer(){this.qnUpdated()},questionName(){this.qnUpdated()},options(t){const e=[];for(const i of t)e.push(i.id);this.orderData=JSON.stringify(e),this.qnUpdated()}},mounted(){l().get("../getQuestion/").then((t=>{console.log(t.data),u().extend(this,t.data),this.cbAnswer=JSON.parse(this.cbAnswer),this.validate=this.autoGrade;const e=JSON.parse(this.optionOrder),i=[],n=this.options.filter((t=>!e.includes(t.id)));for(const a of e){const t=this.options.find((t=>t.id===a));void 0!==t&&i.push(t)}this.options=i.concat(n)}))},computed:{chosenTag(){return this.tags.find((t=>t.id===this.tagId))},dragOptions(){return{animation:200,group:"Options"+this.id,disabled:!1,ghostClass:"ghost",forceFallback:!0,scrollSensitivity:100}}}},g=h,f=i(1001),b=i(3453),y=i.n(b),w=i(3150),x=i(3237),k=i(7118),S=i(3702),C=i(2102),O=i(1418),q=i(5827),_=i(7781),A=i(5189),U=i(6428),Z=i(1058),I=i(624),V=i(8978),T=i(4739),z=i(2877),F=i(6536),N=i(2177),j=i(3033),R=i(5978),Q=(0,f.Z)(g,s,r,!1,null,"5aa9e200",null),H=Q.exports;y()(Q,{VBtn:w.Z,VCard:x.Z,VCardActions:k.h7,VCheckbox:S.Z,VCol:C.Z,VDivider:O.Z,VFadeTransition:q.Z5,VFileInput:_.Z,VHover:A.Z,VIcon:U.Z,VOverlay:Z.Z,VProgressCircular:I.Z,VRadio:V.Z,VRadioGroup:T.Z,VRow:z.Z,VSelect:F.Z,VSkeletonLoader:N.Z,VSwitch:j.Z,VTextField:R.Z});var L={name:"App",components:{HomeComponent:H},data:()=>({})},D=L,X=i(7524),B=i(1009),E=(0,f.Z)(D,a,o,!1,null,null,null),J=E.exports;y()(E,{VApp:X.Z,VMain:B.Z});var M=i(9132);n.Z.use(M.Z);var P=new M.Z({theme:{themes:{light:{primary:"#db3833",accent:"#536DFE",info:"#db3833"}}}});n.Z.config.productionTip=!1,new n.Z({vuetify:P,render:t=>t(J)}).$mount("#app")}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,function(){var t=[];i.O=function(e,n,a,o){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],o=t[c][2];for(var r=!0,d=0;d<n.length;d++)(!1&o||s>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[d])}))?n.splice(d--,1):(r=!1,o<s&&(s=o));if(r){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,a,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,o,s=n[0],r=n[1],d=n[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(d)var c=d(i)}for(e&&e(n);l<s.length;l++)o=s[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(c)},n=self["webpackChunkmodify"]=self["webpackChunkmodify"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(4905)}));n=i.O(n)})();
//# sourceMappingURL=app.2545cc29.js.map